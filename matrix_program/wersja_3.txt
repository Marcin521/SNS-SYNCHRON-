/*
 * Pierwszy.c
 *
 * Created: 20.10.2021 11:33:27
 * Author : marcin
 */
#define F_CPU 16000000UL
#include <avr/io.h>
#include <util/delay.h>

	//#define W1_ON PORTA &=~(1<<4) //zaświecenie cyfry1 na PC0
	//#define W1_OFF PORTA |=(1<<4) //zgaszenie cyfry1 na PC0


char a_p[8]={
		1, 2, 4, 8, 16, 32, 64, 128};



char a_n[]=
		{0,0,0,0,0,0,0,0,0,0,0,0x1c,0x3e,0x7e,0xfc,0xfc,0x7e,0x3e,0x1c,
	    0,0b11000011,0b11000011,0b11000011,0b11000011,0b11100111,0b01111110,0b00111100,0,0,
	    0b11000011,0b11000011,0b11000011,0b11111111,0b11111111,0b11000011,0b11000011,0b11000011,0,0,
	    0b01111001,0b11111011,0b11011111,0b11011110,0b11011100,0b11011000,0b11111111,0b11111111    ,0,0,
	    0,0b11000011,0b11000011,0b11000011,0b11000011,0b11100111,0b01111110,0b00111100,0,0,
	    0b11111110,0b11111111,0b00000011,0b00000011,0b00000011,0b00000011,0b11111111,0b11111110,0,0,
	    0b11000011,0b11000011,0b11000011,0b11111111,0b11111111,0b11000011,0b11000011,0b11000011,0,0,
	    0b11000000,0b11000000,0b11000000,0b11111111,0b11111111,0b11000000,0b11000000,0b11000000,0,0,
	    0,0b01111110,0b10111101,0b11000011,0b11000011,0b11000011,0b11111111,0b11111111,0,0,
	    0b11000011,0b11000011,0b11000011,0b11111111,0b11111111,0b11000011,0b11000011,0b11000011,0,0,
	    0b00011111,0b11011111,0b11011000,0b11011011,0b11011011,0b11011011,0b11111111,0b11111111,0,0,
	    0,0b11011011,0b11011011,0b11011011,0b11011011,0b11011011,0b11111111,0b11111111,0,0,
	    0b11001110,0b11011111,0b11011011,0b11011011,0b11011011,0b11011011,0b11111011,0b01110011,0,0,
	    0b11000000,0b11000000,0b11000000,0b11111111,0b11111111,0b11000000,0b11000000,0b11000000,0,0,
	    0,0,0,0,0,0,0,0,0,0,0,
	    };

uint8_t l =0;


int main(void){

//    DDRA |= 0xff; //ustawiamy na wyjsice
//    PORTA |= 0xff;//stan wysoki wyjście PA0


//    DDRC |= 0xff; //ustawiamy na wyjsice
//    PORTC &= ~0xff;//stan niski wyjście PC7


	 DDRD = 0xFF;
	 DDRA = 0xFF;
	 DDRC = 0xFF;


	while(1){
		for(int x=0;x<142;x++)
		        {
		                for(int a=0;a<20;a++) //20 przesunięcie
		                {

		                    for (int i=0;i<8;i++)
		                    {
		                        PORTC = ~a_p[i];    //uziemienie PORTC
		                        PORTA = a_n[i+x];  //zasielanie PORTA
		                        _delay_ms(2);
		                        PORTC = a_p[i];     //czyszczenie
		                    }

		                }
		    }




	}


}



//zrobic sterowanie przez multipleksowanie
//kwestja podłacznia
